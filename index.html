<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>[Baton Imports]</title>
  </head>
  <style media="screen">
  input[type="file"] {
    z-index: -1;
    position: absolute;
    opacity: 0;
    }

    input:focus + label {
    outline: 2px solid;
    }
  </style>
  <script type="text/javascript">
  window.onload=function(){
    var input = document.getElementById( 'uploadimport' );
    var infoArea = document.getElementById( 'importlist' );
    input.addEventListener( 'change', showFileName );
    function showFileName( event ) {
      var input = event.srcElement;
      var fileName = input.files[0].name;
      infoArea.textContent = fileName;
    }
  }
  window.onload = function(){
          var textFile = null,

          makeTextFile = function (text) {
                              var data = new Blob([text], {type: 'text/plain'});

                              // If we are replacing a previously generated file we need to
                              // manually revoke the object URL to avoid memory leaks.
                              if (textFile !== null) {
                                window.URL.revokeObjectURL(textFile);
                              }

                              textFile = window.URL.createObjectURL(data);

                              return textFile;
                          };

          var create = document.getElementById('create'),
          textbox = document.getElementById('textbox');

          create.addEventListener('click', function () {
                                              var link = document.getElementById('downloadlink');
                                              link.href = makeTextFile(textbox.value);
                                              link.style.display = 'block';
                                          }, false);
      };
  </script>
  <body>
    <pre>


      <span style="text-decoration: underline;">Baton Import List</span>

      **********

      <span style="text-decoration: italic;">Upload Import for Baton:</span>

      <span><input type="file" id="uploadimport" multiple required /><label for="uploadimport">Upload file</label></span>

      **********

      <span style="text-decoration: italic;">Available Imports for Baton:</span>
      <ul id="importlist"/>
    </pre>
  </body>
</html>
